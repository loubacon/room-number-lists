<template name="comment">
  <div>
    {{#if this.unlocked}}
      <div style="position:relative; left: {{this.replyLevel}}rem">
        <a href="toggleMenu">{{this.msg}}</a> - {{this.creator}}
      </div>
    {{else}}
      {{this.msg}} - {{this.creator}}
    {{/if}}
    {{#if shouldShowMenu}}
      <div class="commentMenu" style="background-color:orange;">
        {{#if shouldAllowEditing}}
          <a href="edit">Edit</a> 
        {{/if}}
        <a href="reply">Reply</a>
        <a href="closeMenu">Close</a>
      </div>
    {{/if}}
    {{#if shouldShowReplyForm}}
      <div class="replyForm">
        {{> Template.dynamic 
              template=../replyForm 
              data=replyForm_dataContext
        }} 
      </div>
      
      {{!-- 
        <form class="replyForm">
          <textarea name="message">{{getReplyFormMessage}}</textarea>
          <button>Reply</button>
          <a href="cancel">Cancel</a>
        </form>
      --}}
    {{/if}}
    {{#if shouldShowEditForm}}
      <form class="editForm">
        <textarea name="message">{{getEditFormMessage}}</textarea>
        <button>Save Edit</button>
        <a href="cancel">Cancel</a>
      </form>
    {{/if}}
    {{#if shouldConfirmEditMessage}}
      <div class="confirmEditMessage">
        Please review the following text and confirm that you wish to post this reply:
        <div>
          {{getEditFormMessage}}
        </div>
        <form class="confirmEditMessageForm">
          <button>Post Reply</button>
          <a href="edit">Edit</a>
          <a href="cancel">Cancel</a>
        </form>
      </div>
    {{/if}}
    {{#if shouldConfirmReplyMessage}}
      <div class="confirmReplyMessage">
        Please review the following text and confirm that you wish to post this reply:
        <div>
          {{getReplyFormMessage}}
        </div>
        <form class="confirmReplyMessageForm">
          <button>Post Reply</button>
          <a href="edit">Edit Reply</a>
          <a href="cancel">Cancel</a>
        </form>
      </div>
    {{/if}}
  </div>
</template>